(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2598:(e,s,l)=>{Promise.resolve().then(l.bind(l,7380))},7380:(e,s,l)=>{"use strict";l.d(s,{default:()=>a});var t=l(5155),n=l(2115);function r(e){let{answerHistory:s,onRetry:l}=e,n=s.filter(e=>e.isCorrect).length,r=s.length;return(0,t.jsx)("main",{className:"flex min-h-screen flex-col items-center bg-gray-800 text-white p-4 sm:p-8",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl p-6 sm:p-10 text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold mb-4",children:"クイズ終了！"}),(0,t.jsxs)("p",{className:"text-3xl mb-6",children:["あなたのスコア: ",(0,t.jsx)("span",{className:"text-cyan-400 font-bold",children:n})," / ",r]}),(0,t.jsx)("button",{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl transition-colors",children:"もう一度挑戦する"})]}),(0,t.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center",children:"結果詳細"}),(0,t.jsx)("div",{className:"space-y-6",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-lg p-6 border-l-4 ".concat(e.isCorrect?"border-green-500":"border-red-500"),children:[(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-2",children:["問題 ",s+1]}),(0,t.jsx)("p",{className:"mb-4 text-gray-200",children:e.question}),e.imageUrl&&(0,t.jsx)("div",{className:"my-4 flex justify-center items-center bg-gray-800 p-2 rounded-lg",children:(0,t.jsx)("img",{src:e.imageUrl,alt:"Example for ".concat(e.answer),className:"max-h-48 w-auto object-contain rounded-md"})}),(0,t.jsx)("div",{className:"space-y-2 mt-4",children:e.options.map(s=>{let l=s===e.answer,n=s===e.selectedAnswer,r="bg-gray-700/80";return l&&(r="bg-green-700/50 ring-2 ring-green-500"),n&&!e.isCorrect&&(r="bg-red-700/50 ring-2 ring-red-500 line-through"),(0,t.jsxs)("div",{className:"p-3 rounded-lg flex justify-between items-center text-left transition-all ".concat(r),children:[(0,t.jsx)("span",{children:s}),n&&(0,t.jsx)("span",{className:"text-xs font-semibold rounded-full px-2 py-0.5 bg-gray-600",children:"あなたの回答"}),l&&!n&&(0,t.jsx)("span",{className:"text-xs font-semibold rounded-full px-2 py-0.5 bg-green-800",children:"正解"})]},s)})})]},s))})]})})}function a(e){let{allTerms:s}=e,[l,a]=(0,n.useState)([]),[c,i]=(0,n.useState)(0),[d,x]=(0,n.useState)(null),[o,m]=(0,n.useState)(null),[g,h]=(0,n.useState)(!1),[u,b]=(0,n.useState)([]),[f,p]=(0,n.useState)(!0),j=()=>{if(s.length<10)return void a([]);a([...s].sort(()=>.5-Math.random()).slice(0,10).map(e=>{let l=s.filter(s=>s.answer!==e.answer).sort(()=>.5-Math.random()).slice(0,3).map(e=>e.answer),t=[e.answer,...l].sort(()=>.5-Math.random());return{...e,options:t}}))};(0,n.useEffect)(()=>{j(),p(!1)},[s]);let N=e=>{if(null!==d)return;let s=l[c].answer;x(e),m(e===s)};if(f)return(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-900 text-white p-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Beat Saber 用語クイズ"}),(0,t.jsx)("p",{className:"text-xl",children:"クイズを準備中..."})]});if(g)return(0,t.jsx)(r,{answerHistory:u,onRetry:()=>{p(!0),j(),i(0),x(null),m(null),b([]),h(!1),p(!1)}});if(!l||0===l.length)return(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-900 text-white p-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-red-500 mb-4",children:"エラー"}),(0,t.jsx)("p",{className:"text-xl",children:"クイズデータの生成に失敗しました。"})]});let y=l[c];return(0,t.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-800 text-white p-4 sm:p-8",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl bg-gray-900 rounded-2xl shadow-2xl p-6 sm:p-10",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2 text-lg",children:[(0,t.jsx)("h1",{className:"font-bold text-cyan-400",children:"Beat Saber 用語クイズ"}),(0,t.jsxs)("span",{children:["問題 ",c+1," / ",l.length]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:(0,t.jsx)("div",{className:"bg-cyan-500 h-2.5 rounded-full",style:{width:"".concat((c+1)/l.length*100,"%")}})})]}),(0,t.jsxs)("div",{className:"mb-8 p-4 bg-gray-800 rounded-lg min-h-[100px]",children:[(0,t.jsx)("p",{className:"text-lg font-semibold mb-2",children:"【問題】この説明に当てはまる用語は？"}),(0,t.jsx)("p",{className:"text-gray-300",children:y.question})]}),y.imageUrl&&(0,t.jsx)("div",{className:"mb-8 flex justify-center items-center bg-gray-800 p-2 rounded-lg",children:(0,t.jsx)("img",{src:y.imageUrl,alt:"Example for ".concat(y.answer),className:"max-h-60 w-auto object-contain rounded-md"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:y.options.map(e=>{let s=d===e,n=l[c].answer,r="bg-gray-700 hover:bg-gray-600";return null!==d&&(r=e===n?"bg-green-600":s?"bg-red-600":"bg-gray-700 opacity-50"),(0,t.jsx)("button",{onClick:()=>N(e),disabled:null!==d,className:"w-full text-left p-4 rounded-lg font-medium transition-all duration-300 ".concat(r),children:e},e)})}),d&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>{let e=l[c];b(s=>[...s,{...e,selectedAnswer:d,isCorrect:o}]),c<l.length-1?(i(e=>e+1),x(null),m(null)):h(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors",children:c<l.length-1?"次の問題へ":"結果を見る"})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(2598)),_N_E=e.O()}]);